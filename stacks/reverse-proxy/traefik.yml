# Traefik Static Configuration
# File: stacks/reverse-proxy/traefik.yml
#
# Purpose:
# This is the static Traefik configuration for the HaaS-platformV2 reverse proxy stack.
#
# This file defines:
# - entrypoints (web / websecure)
# - providers (docker + file provider)
# - logging
# - dashboard settings
# - certificate resolver (Let's Encrypt)
#
# IMPORTANT:
# - This file does NOT define routers/services/middlewares.
# - Those are controlled by Docker labels and/or dynamic config files.

global:
  checkNewVersion: true
  sendAnonymousUsage: false

api:
  dashboard: true

log:
  level: INFO

accessLog: {}

entryPoints:
  web:
    address: ":80"

  websecure:
    address: ":443"

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false
  file:
    filename: /etc/traefik/dynamic.yml
    watch: true

certificatesResolvers:
  letsencrypt:
    acme:
      email: "${TRAEFIK_ACME_EMAIL}"
      storage: "/letsencrypt/acme.json"
      httpChallenge:
        entryPoint: web


serversTransport:
  insecureSkipVerify: false
